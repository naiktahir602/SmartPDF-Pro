<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SmartPDF-Pro | Tahir Naik</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-100 flex items-center justify-center min-h-screen">
    <div class="bg-white p-10 rounded-3xl shadow-2xl text-center max-w-lg w-full">
        <div id="uploadContent">
            <h1 class="text-3xl font-black mb-4 text-red-600 italic">SmartPDF-Pro</h1>
            <input type="file" id="fileInput" class="hidden" accept=".docx" onchange="startConversion(event)">
            <button onclick="document.getElementById('fileInput').click()" class="bg-red-600 text-white px-10 py-5 rounded-xl text-xl font-bold shadow-lg">Select Word File</button>
        </div>
        <div id="processingState" style="display:none;">
            <p class="text-xl font-bold animate-pulse">PROCESSING...</p>
        </div>
        <div id="downloadState" style="display:none;">
            <h2 class="text-2xl font-bold text-green-600 mb-6 uppercase">File Ready!</h2>
            <button id="dlBtn" class="bg-green-600 text-white px-10 py-5 rounded-xl text-xl font-bold shadow-xl">DOWNLOAD PDF</button>
        </div>
    </div>

    <script>
        async function startConversion(e) {
            const file = e.target.files[0];
            if(!file) return;
            document.getElementById('uploadContent').style.display = 'none';
            document.getElementById('processingState').style.display = 'block';

            // AAPKI ASLI KEY (Jo Image 15 mein active hai)
            const mySecret = "220|uZA15VAic7zzHi4IWdq0jq9v8g1NkOhf0Qsb0Zgc8de68de5";
// Line 32 se niche ye paste karein
const mySecret = "220|uZA15VAic7zzHi4IWdq0jq9v8g1NkOhf0Qsb0Zgc8de68de5";

const formData = new FormData(); // 'F' capital rakhein
formData.append('File', file);

try {
    // Sahi URL: https://v2.convertapi.com/...
    const response = await fetch(`https://v2.convertapi.com/convert/doc/to/pdf?Secret=${mySecret}`, {
        method: 'POST',
        body: formData
    });

    const data = await response.json();

    if (data.Files && data.Files[0]) {
        setTimeout(() => {
            document.getElementById('processingState').style.display = 'none';
            document.getElementById('downloadState').style.display = 'block';
            document.getElementById('dlBtn').onclick = () => window.location.href = data.Files[0].Url;
        }, 2000);
    } else {
        alert("ConvertAPI Error: Dashboard par credits check karein.");
        location.reload();
    }
} catch (err) { 
    alert("Network Error!"); 
    location.reload(); 
}
