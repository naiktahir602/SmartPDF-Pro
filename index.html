<script>
    let isLoggedIn = false; // By default login nahi hai

    function processFile(input) {
        const tool = input.getAttribute('data-tool');
        
        // Step 1: Login Check
        if (!isLoggedIn) {
            alert("âš ï¸ ACCESS DENIED!\n\nDear User, please Login first to use the T.R Engine for " + tool + ".");
            openAuth(); // Login box khul jayega
            return;
        }

        // Step 2: Working Logic (Sirf Login ke baad)
        if(input.files.length > 0) {
            const fileName = input.files[0].name;
            alert("ðŸš€ T.R ENGINE ACTIVE\n----------------------\nTOOL: " + tool + "\nFILE: " + fileName + "\n\nStatus: Converting... Your download will start shortly!");
            
            // Yahan hum conversion ka asli logic trigger karenge
            setTimeout(() => {
                alert("âœ… Success! " + tool + " completed by T.R Engine.");
            }, 3000);
        }
    }

    function handleLogin() {
        // Asli Login Logic
        const pass = document.getElementById('adminPass').value;
        if(pass === "1234") { // Aapka secret PIN
            isLoggedIn = true;
            alert("Welcome T.R! All 30 Features are now UNLOCKED.");
            closeAuth();
        } else {
            alert("Wrong PIN! Only T.R can unlock the engine.");
        }
    }
</script>
