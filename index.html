//
const auth = getAuth(app);
const db = getFirestore(app);
const OWNER_NUMBER = "+916005878981"; 

// LOGIN FIX: Ab button kaam karega
window.startLogin = function() {
    const phone = prompt("Enter number with +91:");
    if(!phone) return;
    
    const verifier = new RecaptchaVerifier(auth, 'recaptcha-container', {'size': 'invisible'});
    signInWithPhoneNumber(auth, phone, verifier)
        .then(res => {
            const code = prompt("Enter 6-digit OTP:");
            return res.confirm(code);
        }).then(() => {
            alert("Login Successful!");
            location.reload();
        }).catch(err => alert("Login Error: " + err.message));
};

// FILE CHOOSE FIX: Ab tools asliyat mein file maangenge
window.handleToolClick = (toolName, isPremium) => {
    if (isPremium && !isProUser) {
        alert("SmartPDF PRO: Please pay â‚¹99 for 2 Months Access");
        // Razorpay logic tomorrow
    } else {
        // ASLI FILE PICKER ENGINE
        const input = document.createElement('input');
        input.type = 'file';
        input.accept = '.pdf';
        input.onchange = (e) => {
            const file = e.target.files[0];
            alert("File Selected: " + file.name + "\nProcessing " + toolName + "...");
        };
        input.click(); 
    }
};
